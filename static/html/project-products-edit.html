<!--Dialog-->
<div class="modal full-view" tabindex="-1" role="dialog"
        ps-tile-dialog
        ps-on-close="cm.onClose">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">
                    <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
                </button>
                <!--Table menu / popover-->
                <ps-table-popover class="header-btn last"
                        ps-container=".modal-header"
                        ps-viewport=".modal-header"
                        ps-id="table"
                        ps-popover-on="cm.popoverOn">
                        <span class="popover-icon hamburger-icon">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </span>
                    <form class="popover-form">
                        <div class="form-group">
                            <label>Group by:</label>
                            <div class="list-group">
                                <a href class="list-group-item"
                                        ng-repeat="opt in cm.groupBy.options"
                                        ng-class="{'active': opt === cm.groupBy.current}"
                                        ng-click="cm.groupBy.set(opt)">
                                    {{cm.groupBy.displayName(opt)}}
                                </a>
                            </div>
                        </div>
                    </form>
                </ps-table-popover>
                <a class="btn btn-default header-btn export"
                        ng-mousedown="csv.generate()"
                        ng-href="{{ csv.link() }}"
                        download="export.csv">Export</a>
                <h4 class="modal-title">
                    {{:: cm.title }}
                    <small ng-show="cm.savingData">Saving...</small>
                </h4>
            </div>
            <div class="modal-body">
                <div class="tile-section border">
                    <ps-table-view ps-export-csv="csv" ps-view="cm.tableView"></ps-table-view>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="cm.goPrev()">
                    <span class="glyphicon glyphicon-backward"></span>
                    Requirements
                </button>
                <button class="btn" data-dismiss="modal">Done</button>
                <button class="btn btn-primary" ng-click="cm.goNext()">
                    Shortlist
                    <span class="glyphicon glyphicon-forward"></span>
                </button>
            </div>
        </div>
    </div>

    <!--Menu-->
    <div ng-attr-id="{{::cm.menu.id}}" class="context-menu dropdown clearfix">
        <ul class="dropdown-menu" role="menu" aria-labelledby="dropdownMenu">
            <li ng-class="{disabled: !cm.menu.enabled('add')}">
                <a class="pointer" role="menuitem" tabindex="-1"
                        ng-click="cm.menu.doAction('add')">Add Product</a>
            </li>
            <li ng-class="{disabled: !cm.menu.enabled('remove')}">
                <a class="pointer" role="menuitem" tabindex="-1"
                        ng-click="cm.menu.doAction('remove')">Remove Product</a>
            </li>
        </ul>
    </div>
</div>