<form name="cm.editForm" class="form-horizontal selector-edit-form"
        ng-class="{'add-new': cm.edit.isNew}"
        ng-if="cm.edit.visible">
    <!--Topic-->
    <div class="form-group form-group-sm">
        <label class="label-col control-label text-left-important">Topic:</label>
        <div class="control-col">
            <ui-select ng-model="cm.edit.topic.selected" theme="bootstrap"
                    tagging="cm.edit.topic.onAddNew"
                    tagging-tokens="ENTER"
                    tagging-label="(adding new)"
                    on-select="cm.edit.topic.onSelect($model)">
                <ui-select-match placeholder="Select a topic or add a new one...">
                    {{ $select.selected.name }}
                </ui-select-match>
                <ui-select-choices
                        repeat="group in cm.groups.list | filter:$select.search">
                    <span ng-bind-html="group.name | highlight: $select.search"></span>
                </ui-select-choices>
            </ui-select>
        </div>
    </div>
    <!--Name-->
    <div class="form-group form-group-sm">
        <label for="req-name" class="label-col control-label text-left-important">Name:</label>
        <div class="control-col">
            <input type="text" id="req-name" class="form-control" placeholder="Name"
                    ng-model="cm.edit.model.name"
                    ps-focus-on="cm.edit.visible"
                    required>
        </div>
    </div>
    <!--Description-->
    <div class="form-group form-group-sm">
        <label for="req-descr" class="label-col control-label text-left-important">Description:</label>
        <div class="control-col">
            <input type="text" id="req-descr" class="form-control" placeholder="Description"
                    ng-model="cm.edit.model.description">
        </div>
    </div>
    <!--Mandatory-->
    <div class="form-group form-group-sm">
        <div class="label-col"></div>
        <div class="control-col">
            <label class="checkbox-ext no-select" ng-class="{checked: cm.edit.model.mandatory}">
                <input type="checkbox" ng-model="cm.edit.model.mandatory">
                Mandatory
            </label>
        </div>
    </div>
    <!--Buttons-->
    <div class="form-group form-group-sm">
        <div class="label-col"></div>
        <div class="control-col">
            <button type="button" class="btn btn-sm btn-primary"
                    ng-click="cm.edit.save()"
                    ng-disabled="cm.editForm.$invalid">Save
            </button>
            <button type="button" class="btn close inline-close"
                    ng-click="cm.edit.cancel()">
                <span aria-hidden="true">&times;</span><span class="sr-only">Close</span>
            </button>
        </div>
    </div>
</form>
